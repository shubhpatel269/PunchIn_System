<div class="user-register-table-container">
  <div style="display: flex; justify-content: space-between; width: 100%; margin-bottom: 2rem; gap: 0.5rem;">
    <h2 class='text-2xl font-bold text-blue-700 mb-4'>Manage Employee</h2>
    <p-button type="button" icon="pi pi-user-plus" class="register-btn" (click)="addEmployee()" label="Add Employee"></p-button>
  </div>

  <div class="card flex justify-center gap-2">
    <p-toast></p-toast>
    <p-confirmDialog></p-confirmDialog>
  </div>
  
  <p-table [value]="employees" [loading]="loading" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" 
           currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
    <ng-template pTemplate="header">
      <tr>
        <th>Employee ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Designation</th>
        <!-- <th>Status</th> -->
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-employee>
      <tr>
        <td>{{ employee.employeeId }}</td>
        <td>{{ employee.employeeFirstName }} {{ employee.employeeMiddleName }} {{ employee.employeeLastName }}</td>
        <td>{{ employee.employeeEmail }}</td>
        <td>{{ employee.employeePhone }}</td>
        <td [class]="loadingDesignations ? 'loading-designation' : ''">{{ getDesignationName(employee.employeeDesignationId || employee.designationId || employee.designation) }}</td>
        <!-- <td>
          <span [class]="employee.employeeIsActive ? 'badge badge-success' : 'badge badge-danger'">
            {{ employee.employeeIsActive ? 'Active' : 'Inactive' }}
          </span>
        </td> -->
        <td>
          <div class="action-buttons">
            <button type="button" pButton icon="pi pi-user-edit" class="p-button-text p-button-sm p-button-info"
              (click)="onEdit(employee)" title="Edit Employee"></button>
            <button type="button" pButton icon="pi pi-trash" class="p-button-text p-button-sm p-button-danger"
              (click)="confirmDelete($event, employee)" title="Delete Employee"></button>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="7" class="text-center">No employees found</td>
      </tr>
    </ng-template>
  </p-table>
</div>